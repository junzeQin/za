<mxfile host="drawio-plugin" modified="2022-12-21T10:54:20.474Z" agent="5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36" etag="QvDF7Go8jyf_IuPZYtAD" version="20.5.3" type="embed"><diagram name="Page-1" id="c7558073-3199-34d8-9f00-42111426c3f3"><mxGraphModel dx="1230" dy="845" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="826" pageHeight="1169" background="none" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><UserObject label="PolicyBatch" id="98"><mxCell style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fontFamily=Lucida Console;verticalAlign=middle;" parent="1" vertex="1"><mxGeometry x="10" y="761" width="7720" height="4679" as="geometry"/></mxCell></UserObject><mxCell id="107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=Lucida Console;" parent="98" source="103" target="104" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="103" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 18px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;renewPolicy&lt;br style=&quot;font-size: 18px;&quot;&gt;Schedule&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;fontSize=18;" parent="98" vertex="1"><mxGeometry x="60" y="59.01" width="110" height="110" as="geometry"/></mxCell><mxCell id="109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Lucida Console;" parent="98" source="104" target="108" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" parent="98" source="104" target="131" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="104" value="&lt;div class=&quot;mind-clipboard&quot; style=&quot;font-size: 16px;&quot;&gt;setRenewDueDate(bizTime)&lt;div style=&quot;font-size: 16px;&quot;&gt;setPremStatus(NORMAL_PAYMENT(1, &quot;正常缴费&quot;))&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 16px;&quot;&gt;setRenewStatus(EFFECTIVE(1, &quot;生效中&quot;))&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 16px;&quot;&gt;以上作为条件查询&lt;/div&gt;&lt;div style=&quot;font-size: 16px;&quot;&gt;renew_policy_premium_schedule&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;align=left;" parent="98" vertex="1"><mxGeometry x="255" y="36" width="325" height="156" as="geometry"/></mxCell><mxCell id="111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Lucida Console;" parent="98" source="108" target="110" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="108" value="&lt;div class=&quot;mind-clipboard&quot; style=&quot;font-size: 16px;&quot;&gt;&lt;div class=&quot;mind-clipboard&quot; style=&quot;font-size: 16px;&quot;&gt;每页最大的ID，以每页limit1000为基准，分页查询，按id正序排序，取每页最后一条记录更新maxIdValue，作为下一个分页查询的条件&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="660" y="64.63" width="280" height="98.75" as="geometry"/></mxCell><mxCell id="110" value="&lt;div class=&quot;mind-clipboard&quot; style=&quot;font-size: 16px;&quot;&gt;查询获取到list&lt;div style=&quot;font-size: 16px;&quot;&gt;遍历，异步处理每个object&lt;br&gt;发送kafka消息，消息内容包括[renewPolicyPremiumScheduleId，policyHolderCustomerId，bizTime]，producer:batchRenewProducer，tag:batch-renew-message，policyBatch自产自销，consumer:batchRenewConsumer&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="1020" y="28.06" width="370" height="171.94" as="geometry"/></mxCell><mxCell id="233" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="98" source="114" target="115" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="114" value="&lt;font color=&quot;#323232&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;校验&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2272" y="464" width="107.5" height="50" as="geometry"/></mxCell><mxCell id="122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;" parent="98" source="115" target="117" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="136" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;entryX=1.007;entryY=0.497;entryDx=0;entryDy=0;entryPerimeter=0;" parent="98" source="115" target="134" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="2063" y="649" as="targetPoint"/></mxGeometry></mxCell><mxCell id="115" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;根据保单续期计划ID、交易状态为[1 初始化 INIT]为&lt;/span&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;条件&lt;/span&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;，查询此保单是否存在还未缴费的账单（查询续期交易记录），对应表是renew_policy_transaction、renew_policy_transaction_detail&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2168" y="589" width="315" height="120" as="geometry"/></mxCell><object label="" placeholders="1" id="125"><mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;" parent="98" source="117" target="590" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="2183" y="824" as="targetPoint"/></mxGeometry></mxCell></object><mxCell id="129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="98" source="117" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="2326" y="954" as="targetPoint"/></mxGeometry></mxCell><mxCell id="117" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;未缴费的账单&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2288.63" y="794" width="73.75" height="60" as="geometry"/></mxCell><mxCell id="126" value="存在" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontStyle=1" parent="98" vertex="1"><mxGeometry x="2203" y="794" width="60" height="30" as="geometry"/></mxCell><mxCell id="130" value="不存在" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;rotation=90;fontStyle=1" parent="98" vertex="1"><mxGeometry x="2312" y="882" width="60" height="30" as="geometry"/></mxCell><mxCell id="131" value="&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div&gt;FROM&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;sj_gr_policy_batch.renew_policy_premium_schedule&amp;nbsp;&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;is_deleted = 'N'&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND prem_status = 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_status = 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_due_date &amp;lt;= '2022-11-28 09:00:00'&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;LIMIT 1000&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;align=left;verticalAlign=middle;" parent="98" vertex="1"><mxGeometry x="272.5" y="340" width="290" height="160" as="geometry"/></mxCell><mxCell id="134" value="&lt;div style=&quot;font-size: 14px;&quot;&gt;SELECT&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;FROM&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&#9;&lt;/span&gt;sj_gr_policy_batch.&lt;br&gt;renew_policy_transaction&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;WHERE&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&#9;&lt;/span&gt;1 = 1&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9560591&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&#9;&lt;/span&gt;AND renew_policy_premium_schedule_id=&amp;nbsp;&lt;/div&gt;9560777&amp;nbsp;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&#9;&lt;/span&gt;AND STATUS = 1&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&#9;&lt;/span&gt;AND is_deleted = 'N'&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;align=left;verticalAlign=middle;fontFamily=Lucida Console;fontSize=14;" parent="98" vertex="1"><mxGeometry x="1680" y="534.5" width="330" height="229" as="geometry"/></mxCell><mxCell id="150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="98" source="146" target="149" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="203" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="98" source="146" target="201" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="146" value="&lt;div style=&quot;font-size: 16px;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div class=&quot;mind-clipboard&quot;&gt;根据&lt;span style=&quot;color: rgb(50, 50, 50); background-color: rgba(255, 255, 255, 0.01);&quot;&gt;保单续期计划ID&lt;/span&gt;，未抽档flag等条件，查询续期相关信息(包括续期计划，缴费人信息，缴费频率，险种保费信息，险种计划,交易信息)[renew_policy_premium_schedule]表记录&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2146.5" y="957" width="358.99" height="98" as="geometry"/></mxCell><mxCell id="205" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" parent="98" source="149" target="204" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="207" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="98" source="149" target="206" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="149" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;&lt;span style=&quot;font-size: 17px;&quot;&gt;更新保单续期计划字段[&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 16px; color: rgb(50, 50, 50); font-family: Arial; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;flag]改为&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 18px;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;[&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 18px;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;RUNNING(2, &quot;抽档中&quot;)&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: Arial; background-color: initial; font-size: 18px;&quot;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2198.75" y="1168.5" width="253.25" height="61.5" as="geometry"/></mxCell><mxCell id="151" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;SELECT&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;FROM&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&#9;&lt;/span&gt;renew_policy_premium_schedule&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;WHERE&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&#9;&lt;/span&gt;1 = 1&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&#9;&lt;/span&gt;AND id = 9716297&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9560591&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&#9;&lt;/span&gt;AND prem_status = 1&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&#9;&lt;/span&gt;AND flag = 1&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&#9;AND is_deleted = 'N';&lt;/font&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="98" vertex="1"><mxGeometry x="1197" y="834" width="200" height="200" as="geometry"/></mxCell><mxCell id="190" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div&gt;FROM&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;renew_premium_payer&amp;nbsp;&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;1 = 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9560591&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_policy_premium_schedule_id = 9716297&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND is_deleted = 'N'&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="98" vertex="1"><mxGeometry x="1437" y="839" width="200" height="190" as="geometry"/></mxCell><mxCell id="191" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div&gt;FROM&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;renew_product_premium_schedule&amp;nbsp;&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;1 = 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_policy_premium_schedule_id = 9716297&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9560591&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND is_deleted = 'N'&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="98" vertex="1"><mxGeometry x="1667" y="839" width="205" height="190" as="geometry"/></mxCell><mxCell id="192" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div&gt;FROM&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;renew_product_premium&amp;nbsp;&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;1 = 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9560591&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_policy_premium_schedule_id = 9716297&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_product_premium_schedule_id = 9743789&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND is_deleted = 'N'&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="98" vertex="1"><mxGeometry x="1197" y="1064" width="220" height="240" as="geometry"/></mxCell><mxCell id="193" value="&lt;div style=&quot;font-size: 12px;&quot;&gt;&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div&gt;FROM&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;renew_premium_frequency&amp;nbsp;&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;1 = 1&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9560591&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_policy_premium_schedule_id = 9716297&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_product_premium_schedule_id = 9743792&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND is_deleted = 'N'&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="98" vertex="1"><mxGeometry x="1432" y="1069" width="220" height="230" as="geometry"/></mxCell><mxCell id="194" value="&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;SELECT&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;FROM&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;renew_policy_transaction&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;WHERE&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;1 = 1&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9560591&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND renew_policy_premium_schedule_id = 9716297&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND is_deleted = 'N'&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="98" vertex="1"><mxGeometry x="1667" y="1074" width="220" height="190" as="geometry"/></mxCell><mxCell id="201" value="续期相关的查询sql" style="swimlane;whiteSpace=wrap;html=1;" parent="98" vertex="1"><mxGeometry x="1170" y="787" width="740" height="538" as="geometry"/></mxCell><mxCell id="204" value="&lt;div&gt;UPDATE renew_policy_premium_schedule&amp;nbsp;&lt;/div&gt;&lt;div&gt;SET flag = 2,&lt;/div&gt;&lt;div&gt;gmt_modified = CURRENT_TIMESTAMP ( 3 )&amp;nbsp;&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;id = 9762296&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND policy_holder_customer_id = 9561535&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;align=left;verticalAlign=middle;" parent="98" vertex="1"><mxGeometry x="2563" y="1130" width="220" height="140" as="geometry"/></mxCell><mxCell id="209" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="98" source="206" target="208" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="206" value="&lt;div style=&quot;font-size: 16px;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div class=&quot;mind-clipboard&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: Arial; font-size: 20px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;查询保单信息&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2238.51" y="1329" width="173.99" height="60" as="geometry"/></mxCell><mxCell id="218" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="98" source="208" target="217" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="298" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="98" source="208" target="601" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="1798" y="1499.9823120108558" as="targetPoint"/></mxGeometry></mxCell><mxCell id="208" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;dueDate comapre&lt;br&gt;expiryDate&lt;br&gt;&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2288.63" y="1471" width="73.75" height="60" as="geometry"/></mxCell><mxCell id="212" value="缴费时间不与保单止期在同一个月，进行抽档" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" parent="98" vertex="1"><mxGeometry x="2353.37" y="1435" width="192.63" height="65" as="geometry"/></mxCell><mxCell id="304" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="98" source="217" target="227" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="217" value="&lt;div style=&quot;font-size: 16px;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div class=&quot;mind-clipboard&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: Arial; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;生成续期交易流水号&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2238.51" y="1620" width="173.99" height="60" as="geometry"/></mxCell><mxCell id="219" value="不在同月" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;rotation=90;fontStyle=1" parent="98" vertex="1"><mxGeometry x="2312" y="1556" width="60" height="30" as="geometry"/></mxCell><mxCell id="226" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontSize=16;" parent="98" source="223" target="225" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="306" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="98" source="223" target="229" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="223" value="&lt;div style=&quot;font-size: 16px;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div class=&quot;mind-clipboard&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: Arial; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;组装续期交易请求参数&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: Arial; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;保存交易信息以及交易明细，renew_policy_transaction、renew_policy_transaction_detail&lt;/span&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: Arial; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2203.25" y="1910" width="244.49" height="110" as="geometry"/></mxCell><mxCell id="225" value="&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;insert into renew_policy_transaction&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;insert into renew_router&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;insert into renew_policy_transaction_detail&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=12;align=left;" parent="98" vertex="1"><mxGeometry x="1883" y="1930" width="231" height="70" as="geometry"/></mxCell><mxCell id="305" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="98" source="227" target="223" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="227" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 16px; color: rgb(50, 50, 50); font-family: Arial; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;累加险种缴费计划[&lt;/span&gt;&lt;span style=&quot;font-family: Helvetica; background-color: initial;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;renew_product_premium&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 16px; background-color: rgba(255, 255, 255, 0.01); color: rgb(50, 50, 50); font-family: Arial;&quot;&gt;]上的期缴保费，得到总的应收保费&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2230.19" y="1748" width="191.12" height="90" as="geometry"/></mxCell><mxCell id="310" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="98" source="229" target="309" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="229" value="&lt;div style=&quot;font-size: 16px;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div class=&quot;mind-clipboard&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: Arial; font-size: 17px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;调用bcp创建续期应收账单并确认账单&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2216.5" y="2088" width="218" height="50" as="geometry"/></mxCell><mxCell id="317" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" source="231" target="316" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="231" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;&lt;span style=&quot;font-size: 17px;&quot;&gt;更新保单续期计划字段[&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 16px; color: rgb(50, 50, 50); font-family: Arial; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;flag]改为[&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 16px;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;NOT_RUN(1, &quot;未抽档&quot;)&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 16px; background-color: rgba(255, 255, 255, 0.01); color: rgb(50, 50, 50); font-family: Arial;&quot;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2040.76" y="2393" width="182.24" height="72" as="geometry"/></mxCell><mxCell id="315" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="98" source="232" target="231" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="232" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;&lt;span style=&quot;font-size: 17px;&quot;&gt;更新保单续期计划字段[renew_due_date]和[current_index]，分别往后延1，得到下期缴费日期以及&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 17px;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;current_index，如果是最后一期并不会更新以上字段&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2393" y="2363" width="240" height="132" as="geometry"/></mxCell><mxCell id="311" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="98" source="309" target="231" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="312" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="311" vertex="1" connectable="0"><mxGeometry x="-0.2378" y="-4" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="313" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="98" source="309" target="232" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="314" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="313" vertex="1" connectable="0"><mxGeometry x="-0.33" y="3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="309" value="成功" style="rhombus;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="2285.75" y="2204" width="80" height="80" as="geometry"/></mxCell><mxCell id="316" value="&lt;font color=&quot;#323232&quot; style=&quot;font-size: 21px;&quot;&gt;&lt;span style=&quot;font-size: 21px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;end&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;fontSize=21;" parent="98" vertex="1"><mxGeometry x="2093.82" y="2524" width="76.12" height="71" as="geometry"/></mxCell><mxCell id="320" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=17;" parent="98" source="319" target="114" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="319" value="&lt;span style=&quot;font-size: 17px;&quot;&gt;batchRenew&lt;br style=&quot;font-size: 17px;&quot;&gt;Consumer&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;fontSize=17;" parent="98" vertex="1"><mxGeometry x="2281" y="296" width="90" height="91" as="geometry"/></mxCell><mxCell id="527" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;consumerChange&lt;br&gt;BcpConsumer&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="3660" y="2709" width="140" height="51" as="geometry"/></mxCell><mxCell id="555" value="&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div&gt;FROM&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;`sj_gr_policy_batch`.&lt;br&gt;`renew_policy_transaction`&amp;nbsp;&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;`policy_no` = 'SAD303438562'&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND `renew_transaction_no` = '309202212140154851863'&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND `status` = '1'&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;LIMIT 0,1000&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontSize=16;align=left;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="3920" y="2779.5" width="290" height="220" as="geometry"/></mxCell><mxCell id="556" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="98" source="558" target="555" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="558" value="根据bill上的保单号、续期业务号[businessTransactionNo]、以及状态=[INIT(1, &quot;初始化状态&quot;)]，查询续期交易表[renew_policy_transaction]、续期交易明细表[renew_policy_transaction_detail]" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="4300" y="2834" width="400" height="111" as="geometry"/></mxCell><mxCell id="560" value="&lt;font face=&quot;Lucida Console&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;根据续期交易记录上的字段[renew_policy_premium_schedule_id&lt;/span&gt;&lt;/font&gt;&lt;font face=&quot;Lucida Console&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;]&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Lucida Console&amp;quot;; font-size: 16px;&quot;&gt;查询续期相关信息(包括续期计划，缴费人信息，缴费频率，险种保费信息，险种计划,交易信息)[renew_policy_premium_schedule]表记录&lt;/span&gt;&lt;font face=&quot;Lucida Console&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="98" vertex="1"><mxGeometry x="4322.5" y="3029" width="355" height="110" as="geometry"/></mxCell><mxCell id="557" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="98" source="558" target="560" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="562" value="&lt;font face=&quot;Lucida Console&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;根据保单号、续期业务号查询bcp的bill&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="98" vertex="1"><mxGeometry x="4407.5" y="3228" width="185" height="64" as="geometry"/></mxCell><mxCell id="559" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" source="560" target="562" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="564" value="&lt;font face=&quot;Lucida Console&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;查询保单信息&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="98" vertex="1"><mxGeometry x="4428.75" y="3379" width="142.5" height="34" as="geometry"/></mxCell><mxCell id="561" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" source="562" target="564" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="569" value="保单状态" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="4460" y="3504" width="80" height="80" as="geometry"/></mxCell><mxCell id="563" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" source="564" target="569" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="570" value="&lt;font color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;stop&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;" parent="98" vertex="1"><mxGeometry x="4250" y="3503" width="87" height="81" as="geometry"/></mxCell><mxCell id="565" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" source="569" target="570" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="566" value="ELSE" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="565" vertex="1" connectable="0"><mxGeometry x="-0.2065" y="-3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="567" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="98" source="569" target="576" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="4500.1" y="3673" as="targetPoint"/></mxGeometry></mxCell><mxCell id="568" value="生效" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="567" vertex="1" connectable="0"><mxGeometry x="-0.2444" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="576" value="续期计划上的字段[&lt;span style=&quot;text-align: left;&quot;&gt;due_date&lt;/span&gt;、&lt;span style=&quot;text-align: left;&quot;&gt;unpaid_cancel_date&lt;/span&gt;]对应的月份+1，得到变量[dueDate、unPaidCancelDate]" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="4341.25" y="3676" width="317.5" height="90" as="geometry"/></mxCell><mxCell id="578" value="更新保单对应的[policy_product_renew 保单缴费续期]中的[due_date]，如果是最后一期保费，同时更新[premium_status]=[FINISH_PAYMENT(4, &quot;保费缴清&quot;)]，[premium_status_change_cause]=[PREMIUM_PAY_OFF(2, &quot;保费缴清&quot;)]" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="4330" y="3848" width="340" height="130" as="geometry"/></mxCell><mxCell id="575" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="98" source="576" target="578" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="579" value="&lt;ol&gt;&lt;li&gt;更新续期计划[renew_policy_premium_schedule]，&lt;br&gt;如果是最后一期，更新字段[prem_status]=[FINISH_PAYMENT(4, &quot;保费缴清&quot;)]，[prem_status_change_cause]=[PREMIUM_PAY_OFF(2, &quot;保费缴清&quot;)]，&lt;br&gt;如果非最后一期，更新字段[due_date]=[dueDate]，[unpaid_cancel_date]=[&lt;span style=&quot;text-align: center;&quot;&gt;unPaidCancelDate&lt;/span&gt;]&lt;/li&gt;&lt;li&gt;更新续期交易[renew_policy_transaction]，更新字段[status]=[CONFIRMED(2, &quot;确认状态&quot;)]，[due_date]=[dueDate]&lt;/li&gt;&lt;li&gt;更新续期交易明细[renew_policy_transaction_detail]，更新字段[status]=[CONFIRMED(2, &quot;确认状态&quot;)]，[due_date]=[dueDate]&lt;/li&gt;&lt;/ol&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;align=left;" parent="98" vertex="1"><mxGeometry x="4245.94" y="4069" width="508.12" height="266" as="geometry"/></mxCell><mxCell id="577" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" source="578" target="579" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="590" value="&lt;font color=&quot;#323232&quot; style=&quot;font-size: 21px;&quot;&gt;&lt;span style=&quot;font-size: 21px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;end&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;fontSize=21;" parent="98" vertex="1"><mxGeometry x="2100" y="788.5" width="76.12" height="71" as="geometry"/></mxCell><mxCell id="592" value="" style="shape=table;html=1;whiteSpace=wrap;startSize=0;container=1;collapsible=0;childLayout=tableLayout;fontFamily=Lucida Console;fontSize=14;" parent="98" vertex="1"><mxGeometry x="1280" y="1399" width="500" height="661" as="geometry"/></mxCell><mxCell id="593" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry width="500" height="51" as="geometry"/></mxCell><mxCell id="594" value="index" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="593" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="595" value="dueDate" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="593" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="596" value="expiryDate" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="593" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="597" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="51" width="500" height="49" as="geometry"/></mxCell><mxCell id="598" value="1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="597" vertex="1"><mxGeometry width="115" height="49" as="geometry"><mxRectangle width="115" height="49" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="599" value="2022-12-09 15:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="597" vertex="1"><mxGeometry x="115" width="190" height="49" as="geometry"><mxRectangle width="190" height="49" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="600" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="597" vertex="1"><mxGeometry x="305" width="195" height="49" as="geometry"><mxRectangle width="195" height="49" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="601" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="100" width="500" height="51" as="geometry"/></mxCell><mxCell id="602" value="2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="601" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="603" value="2023-01-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="601" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="604" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="601" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="605" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="151" width="500" height="51" as="geometry"/></mxCell><mxCell id="606" value="3" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="605" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="607" value="2023-02-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="605" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="608" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="605" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="609" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="202" width="500" height="51" as="geometry"/></mxCell><mxCell id="610" value="4" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="609" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="611" value="2023-03-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="609" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="612" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="609" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="613" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="253" width="500" height="51" as="geometry"/></mxCell><mxCell id="614" value="5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="613" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="615" value="2023-04-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="613" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="616" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="613" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="617" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="304" width="500" height="51" as="geometry"/></mxCell><mxCell id="618" value="6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="617" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="619" value="2023-05-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="617" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="620" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="617" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="621" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="355" width="500" height="51" as="geometry"/></mxCell><mxCell id="622" value="7" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="621" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="623" value="2023-06-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="621" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="624" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="621" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="625" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="406" width="500" height="51" as="geometry"/></mxCell><mxCell id="626" value="8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="625" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="627" value="2023-07-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="625" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="628" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="625" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="629" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="457" width="500" height="51" as="geometry"/></mxCell><mxCell id="630" value="9" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="629" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="631" value="2023-08-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="629" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="632" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="629" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="633" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="508" width="500" height="51" as="geometry"/></mxCell><mxCell id="634" value="10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="633" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="635" value="2023-09-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="633" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="636" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="633" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="637" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="559" width="500" height="51" as="geometry"/></mxCell><mxCell id="638" value="11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="637" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="639" value="2023-10-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="637" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="640" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="637" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="641" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontFamily=Lucida Console;fontSize=14;" parent="592" vertex="1"><mxGeometry y="610" width="500" height="51" as="geometry"/></mxCell><mxCell id="642" value="12" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="641" vertex="1"><mxGeometry width="115" height="51" as="geometry"><mxRectangle width="115" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="643" value="2023-11-01 00:00:00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;fontFamily=Lucida Console;fontSize=14;" parent="641" vertex="1"><mxGeometry x="115" width="190" height="51" as="geometry"><mxRectangle width="190" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="644" value="2023-12-09 14:59:59" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;fontFamily=Lucida Console;fontSize=14;" parent="641" vertex="1"><mxGeometry x="305" width="195" height="51" as="geometry"><mxRectangle width="195" height="51" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="646" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="98" source="645" target="558" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="645" value="解析kafka传递的内容，得到bill" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="98" vertex="1"><mxGeometry x="4440" y="2687" width="120" height="60" as="geometry"/></mxCell><mxCell id="220" value="foundation" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="10" y="471" width="7720" height="270" as="geometry"/></mxCell><mxCell id="221" value="&lt;div style=&quot;font-size: 16px;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;font-size: 16px;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;font-size: 16px;&quot;&gt;&lt;font color=&quot;#323232&quot; style=&quot;font-size: 16px;&quot;&gt;/bizno/policy&lt;/font&gt;&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;" parent="220" vertex="1"><mxGeometry x="2870" y="105" width="130" height="50" as="geometry"/></mxCell><mxCell id="222" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=16;dashed=1;" parent="1" source="217" target="221" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="300" value="bcp" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="10" y="5520" width="7720" height="4580" as="geometry"/></mxCell><mxCell id="301" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font face=&quot;Arial&quot; color=&quot;#323232&quot;&gt;/bcp/createReceivableBill&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="2710" y="130" width="210" height="75" as="geometry"/></mxCell><mxCell id="363" value="查询bill" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3368" y="235" width="120" height="60" as="geometry"/></mxCell><mxCell id="364" value="&lt;div&gt;SELECT&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;*&amp;nbsp;&lt;/div&gt;&lt;div&gt;FROM&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;bill&lt;/div&gt;&lt;div&gt;WHERE&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;policy_no = 'xx'&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND trans_type = 4&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND payee_id = 2566&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&#9;&lt;/span&gt;AND business_transaction_no = '7755588'&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;align=left;" parent="300" vertex="1"><mxGeometry x="2990" y="150" width="290" height="210" as="geometry"/></mxCell><mxCell id="361" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=290;entryDy=115;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;dashed=1;" parent="300" source="363" target="364" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="369" value="存在" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3388" y="384" width="80" height="80" as="geometry"/></mxCell><mxCell id="362" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="363" target="369" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="371" value="生成billId" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3369" y="568" width="120" height="60" as="geometry"/></mxCell><mxCell id="365" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="300" source="369" target="371" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="366" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="365" vertex="1" connectable="0"><mxGeometry x="-0.197" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="367" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;" parent="300" source="369" target="382" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3428" y="730" as="targetPoint"/></mxGeometry></mxCell><mxCell id="368" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;YES&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;fontFamily=Lucida Console;" parent="367" vertex="1" connectable="0"><mxGeometry x="-0.293" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="375" value="setBillStatus(BillStatusEnum.PENDING);&lt;br&gt;插入bill" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3369" y="688" width="120" height="60" as="geometry"/></mxCell><mxCell id="370" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="371" target="375" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="377" value="插入receivable_payable" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3369" y="808" width="120" height="60" as="geometry"/></mxCell><mxCell id="374" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="375" target="377" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="378" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="300" source="379" target="381" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3342" y="1088" as="targetPoint"/></mxGeometry></mxCell><mxCell id="379" value="插入bcp_ext_info" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3369" y="933" width="120" height="60" as="geometry"/></mxCell><mxCell id="376" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="377" target="379" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="380" value="&lt;font color=&quot;#323232&quot; style=&quot;font-size: 21px;&quot;&gt;&lt;span style=&quot;font-size: 21px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;end&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;fontSize=21;" parent="300" vertex="1"><mxGeometry x="3129" y="1239.5" width="76.12" height="71" as="geometry"/></mxCell><mxCell id="384" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="300" source="381" target="383" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="389" value="RENEW" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="384" vertex="1" connectable="0"><mxGeometry x="-0.2747" y="-4" relative="1" as="geometry"><mxPoint x="3" y="9" as="offset"/></mxGeometry></mxCell><mxCell id="387" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.499;entryY=-0.092;entryDx=0;entryDy=0;entryPerimeter=0;" parent="300" source="381" target="380" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="388" value="&lt;font face=&quot;Lucida Console&quot; style=&quot;font-size: 16px;&quot;&gt;ELSE&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="387" vertex="1" connectable="0"><mxGeometry x="-0.4374" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="381" value="transType" style="rhombus;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3389" y="1064" width="80" height="80" as="geometry"/></mxCell><mxCell id="382" value="&lt;font color=&quot;#323232&quot; style=&quot;font-size: 21px;&quot;&gt;&lt;span style=&quot;font-size: 21px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;end&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;fontSize=21;" parent="300" vertex="1"><mxGeometry x="3200" y="388.5" width="76.12" height="71" as="geometry"/></mxCell><mxCell id="386" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="300" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="3430" y="1320" as="sourcePoint"/><mxPoint x="3430" y="1419" as="targetPoint"/></mxGeometry></mxCell><mxCell id="390" value="PENDING" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="386" vertex="1" connectable="0"><mxGeometry x="-0.3373" y="-5" relative="1" as="geometry"><mxPoint x="2" y="10" as="offset"/></mxGeometry></mxCell><mxCell id="394" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="383" target="380" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="398" value="ELSE" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="394" vertex="1" connectable="0"><mxGeometry x="-0.2278" y="-2" relative="1" as="geometry"><mxPoint x="-21" as="offset"/></mxGeometry></mxCell><mxCell id="383" value="billStatus" style="rhombus;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3389" y="1235" width="80" height="80" as="geometry"/></mxCell><mxCell id="392" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="385" target="391" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="393" value="CASH_PAY_PAY_SJ" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="392" vertex="1" connectable="0"><mxGeometry x="-0.3091" y="1" relative="1" as="geometry"><mxPoint y="10" as="offset"/></mxGeometry></mxCell><mxCell id="397" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="385" target="380" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="399" value="ELSE" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="397" vertex="1" connectable="0"><mxGeometry x="-0.5621" relative="1" as="geometry"><mxPoint x="-28" as="offset"/></mxGeometry></mxCell><mxCell id="385" value="payMethod" style="rhombus;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3389" y="1414" width="80" height="80" as="geometry"/></mxCell><mxCell id="391" value="confirm-bill&lt;br&gt;异步处理" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3369" y="1592" width="120" height="60" as="geometry"/></mxCell><mxCell id="467" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;dueDate计算出的最后缴费日期[lastPaymentDate]，计算方法是取dueDate的月份-1的月末23:59:59日期&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3912.51" y="1580" width="224.99" height="92" as="geometry"/></mxCell><mxCell id="472" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;bizTime comapre&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-family: 微软雅黑; font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;lastPaymentDate&lt;/span&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3988.13" y="1760" width="73.75" height="60" as="geometry"/></mxCell><mxCell id="466" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="467" target="472" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="473" value="&lt;font color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;stop&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3782" y="1749.5" width="87" height="81" as="geometry"/></mxCell><mxCell id="468" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="472" target="473" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="469" value="大于" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="468" vertex="1" connectable="0"><mxGeometry x="-0.1752" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="474" value="比如dueDate是2022年12月12日，那么lastpaymentDate计算出便来2022-11-30 23:59:59" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3660" y="1642" width="250" height="50" as="geometry"/></mxCell><mxCell id="476" value="查询保单详情" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3962.5" y="1910" width="125" height="42" as="geometry"/></mxCell><mxCell id="470" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="472" target="476" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="471" value="小于等于" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="470" vertex="1" connectable="0"><mxGeometry x="-0.2444" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="479" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-family: 微软雅黑; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;查询保单bcp相关记录详情&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3956.26" y="2198" width="137.49" height="52" as="geometry"/></mxCell><mxCell id="482" value="&lt;font face=&quot;微软雅黑&quot; color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;查询支付方式配置&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3953.1400000000003" y="2328" width="143.74" height="42" as="geometry"/></mxCell><mxCell id="478" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="479" target="482" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="487" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;支付类型&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3988.1400000000003" y="2441" width="73.75" height="60" as="geometry"/></mxCell><mxCell id="481" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="482" target="487" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="489" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-family: 微软雅黑; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;confirmRenewBill&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3809.4" y="2558" width="143.74" height="42" as="geometry"/></mxCell><mxCell id="483" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="300" source="487" target="489" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="484" value="&lt;font face=&quot;Lucida Console&quot; style=&quot;font-size: 16px;&quot;&gt;ELSE&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="483" vertex="1" connectable="0"><mxGeometry x="-0.266" relative="1" as="geometry"><mxPoint x="-36" y="37" as="offset"/></mxGeometry></mxCell><mxCell id="490" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="491" target="489" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="491" value="&lt;font face=&quot;微软雅黑&quot; color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;调用PAYPAY扣款&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="4087.5" y="2558" width="143.74" height="42" as="geometry"/></mxCell><mxCell id="485" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="487" target="491" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="486" value="NEED_NOW_PAY" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="485" vertex="1" connectable="0"><mxGeometry x="-0.3268" y="1" relative="1" as="geometry"><mxPoint x="35" y="38" as="offset"/></mxGeometry></mxCell><mxCell id="492" value="&lt;font color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;stop&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3837.77" y="2666" width="87" height="81" as="geometry"/></mxCell><mxCell id="488" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="489" target="492" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="493" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="497" target="479" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="494" value="有效" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="493" vertex="1" connectable="0"><mxGeometry x="-0.3188" y="-2" relative="1" as="geometry"><mxPoint y="1" as="offset"/></mxGeometry></mxCell><mxCell id="497" value="&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;保单状态&lt;/span&gt;&lt;span style=&quot;color: rgb(50, 50, 50); font-size: 16px; background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3988.13" y="2041" width="73.75" height="60" as="geometry"/></mxCell><mxCell id="475" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="476" target="497" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="498" value="&lt;font color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;stop&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3782" y="2030.5" width="87" height="81" as="geometry"/></mxCell><mxCell id="495" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="497" target="498" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="496" value="无效" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="495" vertex="1" connectable="0"><mxGeometry x="-0.2307" y="-3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="499" value="" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="2910" y="2540" width="723" height="1453" as="geometry"/></mxCell><mxCell id="502" value="查询bill及相关detail" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3103" y="2621" width="120" height="60" as="geometry"/></mxCell><mxCell id="503" value="bill&lt;br&gt;receivable_payable&lt;br&gt;bcp_ext_info" style="shape=note;size=20;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3378" y="2600" width="200" height="102" as="geometry"/></mxCell><mxCell id="500" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;dashed=1;" parent="300" source="502" target="503" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="510" value="billStatus" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" vertex="1"><mxGeometry x="3123" y="2751" width="80" height="80" as="geometry"/></mxCell><mxCell id="501" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="502" target="510" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="511" value="&lt;font color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;stop&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="2943" y="2881" width="87" height="81" as="geometry"/></mxCell><mxCell id="504" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="510" target="511" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="505" value="ELSE" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="504" vertex="1" connectable="0"><mxGeometry x="-0.2053" y="-3" relative="1" as="geometry"><mxPoint x="1" y="3" as="offset"/></mxGeometry></mxCell><mxCell id="513" value="查询续期余额&lt;br&gt;[collection_balance]" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3283" y="2891.5" width="120" height="60" as="geometry"/></mxCell><mxCell id="506" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="300" source="510" target="513" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="507" value="TRANSFER_FAILURE" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="506" vertex="1" connectable="0"><mxGeometry x="-0.715" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="508" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontSize=16;" parent="300" source="510" target="513" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="509" value="PENDING" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;fontFamily=Lucida Console;" parent="508" vertex="1" connectable="0"><mxGeometry x="-0.0437" y="-2" relative="1" as="geometry"><mxPoint x="-38" y="-3" as="offset"/></mxGeometry></mxCell><mxCell id="515" value="插入余额抵扣的实收数据[collection_transaction]" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3278" y="3019" width="130" height="62" as="geometry"/></mxCell><mxCell id="512" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="513" target="515" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="517" value="冲销续期余额，会变成0，更新&lt;br&gt;[collection_balance]" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3270.5" y="3141" width="145" height="72" as="geometry"/></mxCell><mxCell id="514" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="515" target="517" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="519" value="插入冲销记录数据[cp_note_offset]" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3278" y="3279" width="130" height="62" as="geometry"/></mxCell><mxCell id="516" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="517" target="519" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="521" value="&lt;div&gt;setBillStatus(BillStatusEnum.CONFIRMED);&lt;/div&gt;&lt;div&gt;setBillConfirmDate($bizDate);&lt;/div&gt;更新bill" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3250.5" y="3405" width="185" height="72" as="geometry"/></mxCell><mxCell id="518" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="519" target="521" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="523" value="&lt;strike&gt;插入发票数据[invoice、invoice_detail]&lt;/strike&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3265.5" y="3538" width="155" height="82" as="geometry"/></mxCell><mxCell id="520" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontSize=16;" parent="300" source="521" target="523" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="524" value="&lt;font color=&quot;#323232&quot;&gt;&lt;span style=&quot;background-color: rgba(255, 255, 255, 0.01);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;stop&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3299.5" y="3871" width="87" height="81" as="geometry"/></mxCell><mxCell id="525" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="300" source="526" target="524" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="526" value="发送bcp消息，topic:tech-sj-环境-bcp-topic，tag:za-graphene-bcp-notice-send-bill，&lt;br&gt;主要是作用是policyBatch消费更新冲销续期相关数据" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontFamily=Lucida Console;" parent="300" vertex="1"><mxGeometry x="3200.13" y="3691" width="285.75" height="119" as="geometry"/></mxCell><mxCell id="522" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="300" source="523" target="526" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="307" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="229" target="301" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="528" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="526" target="527" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="583" value="foundation" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="10" y="180" width="7720" height="270" as="geometry"/></mxCell><mxCell id="584" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;/policy&lt;br&gt;/queryPolicyByCondition&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;" parent="583" vertex="1"><mxGeometry x="5010" y="110" width="130" height="50" as="geometry"/></mxCell><mxCell id="585" value="&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot; class=&quot;mind-clipboard&quot;&gt;&lt;div style=&quot;&quot;&gt;/policy&lt;br&gt;/commitChangePolicy&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fontFamily=Lucida Console;fontSize=16;" parent="583" vertex="1"><mxGeometry x="5480" y="110" width="130" height="50" as="geometry"/></mxCell><mxCell id="588" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="564" target="584" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="589" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="578" target="585" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>